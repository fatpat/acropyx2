(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{4136:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/competitions/[code]",function(){return t(5261)}])},3521:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(5893),i=t(7294),a=t(2474),o=t(7087),c=t(2359),u=t(9188);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e){var n=l(i.useState(e.default),2),t=n[0],d=n[1];return(0,r.jsx)(c._,{dateAdapter:o.Z,children:(0,r.jsx)(u.M,{label:e.label,value:t,onChange:function(n){n.toJSON=function(){return"".concat(String(this.getFullYear()),"-").concat(String(this.getMonth()+1).padStart(2,"0"),"-").concat(String(this.getDate()).padStart(2,"0"))},console.log(n),d(n),e.onChange&&e.onChange(n)},renderInput:function(e){return(0,r.jsx)(a.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({},e))}})})}},1194:function(e,n){"use strict";n.Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",bgcolor:"background.paper",boxShadow:24,p:4}},5261:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ue}});var r=t(8520),i=t.n(r),a=t(5893),o=t(7294),c=t(1163),u=t(4713),s=t(6886),l=t(5861),d=t(666),f=t(2474),h=t(1458),p=t(7357),x=t(6242),g=t(298),m=t(5050),j=t(5670),y=t(1496),v=t(44),b=t(1036),Z=t(1395),w=t(4496),_=t(5071),P=(t(4803),t(4117)),C=(t(7497),t(9780),t(5148)),k=t(9233);t(1194),t(3521);function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}function R(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var T=function(e){var n=e.title,t=e.text,r=(e.type,e.placeholder,e.onChange),i=e.onCancel,c=e.childRef,u=e.children,s=R(e,["title","text","type","placeholder","onChange","onCancel","childRef","children"]),l=(0,o.useState)(!1),d=l[0],f=l[1];return(0,o.useEffect)((function(){c&&c.current&&!0===d&&c.current.focus()}),[d,c]),d?(0,a.jsx)("section",S({},s,{children:(0,a.jsxs)("div",{onBlur:function(){return f(!1)},onKeyDown:function(e){return function(e){["Enter","Tab"].indexOf(e.code)>=0&&r&&r(e),["Escape"].indexOf(e.code)>=0&&i&&i(e),["Enter","Escape"].indexOf(e.code)>=0&&f(!1)}(e)},children:[n,": ",u]})})):(0,a.jsx)("section",S({},s,{children:(0,a.jsx)("div",{onClick:function(){return f(!0)},children:(0,a.jsxs)("span",{children:[n,": ",(0,a.jsx)("strong",{children:String(t)})]})})}))};var E=t(4267),W=t(3321),A=t(6540),I=t(9624),M=t(9661),N=t(122);function V(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=function(e){var n,t=e.teams,r=e.update,c=L((0,k.y2)(),1)[0],u=(0,o.useState)([]),l=u[0],d=u[1],h=[{id:"id"},{id:"name"},{id:"pilots",rewrite:function(e){return(0,a.jsxs)(p.Z,{children:[(0,a.jsxs)(N.Z,{href:e[0].link,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(M.Z,{alt:e[0].name,src:e[0].photo}),e[0].name]}),(0,a.jsxs)(N.Z,{href:e[0].link,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(M.Z,{alt:e[1].name,src:e[1].photo}),e[1].name]})]})}},{id:"delete",type:"ACTION",func:(n=i().mark((function e(n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.dataset.id,o=c.filter((function(e){return e.id==a}))[0].name,confirm("Are you sure you want to remove team ".concat(o," (").concat(a,") ?"))){e.next=4;break}return e.abrupt("return");case 4:r(t.filter((function(e){return e.id!=a})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){V(a,r,i,o,c,"next",e)}function c(e){V(a,r,i,o,c,"throw",e)}o(void 0)}))})}];return(0,o.useEffect)((function(){t=t.map((function(e){return e.delete="delete",e.id=e._id,e}))}),[]),(0,a.jsx)(E.Z,{children:(0,a.jsxs)(s.ZP,{container:!0,spacing:7,children:[(0,a.jsxs)(s.ZP,{item:!0,xs:6,sm:6,children:[(0,a.jsx)(I.Z,{multiple:!0,disablePortal:!0,id:"autocomplete-teams",options:c.filter((function(e){return 0==t.filter((function(n){return n.id==e.id})).length})),getOptionLabel:function(e){return"".concat(e.name)},value:l,renderInput:function(e){return(0,a.jsx)(f.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){J(e,n,t[n])}))}return e}({},e,{name:"teams",label:"Teams",onKeyPress:function(e){"Enter"===e.key&&r(l.concat(t))}}))},onChange:function(e,n){d(n)}}),(0,a.jsx)(W.Z,{variant:"contained",startIcon:(0,a.jsx)(A.Z,{}),onClick:function(){r(l.concat(t))},children:"Add team(s)"})]}),(0,a.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,a.jsx)(P.Z,{rows:t,headCells:h,orderById:"rank"})})]})})};function X(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function H(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=function(e){var n,t=e.pilots,r=e.update,c=B((0,k.XH)(),1)[0],u=(0,o.useState)([]),l=u[0],d=u[1],h=[{id:"civlid",numeric:!0},{id:"name",rewrite:function(e,n){return(0,a.jsx)(p.Z,{children:(0,a.jsxs)(N.Z,{href:n.link,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(M.Z,{alt:n.name,src:n.photo}),n.name]})})}},{id:"country"},{id:"rank"},{id:"link",type:"LINK"},{id:"delete",type:"ACTION",func:(n=i().mark((function e(n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.dataset.id,o=c.filter((function(e){return e.id==a}))[0].name,confirm("Are you sure you want to remove pilot ".concat(o," (").concat(a,") ?"))){e.next=4;break}return e.abrupt("return");case 4:r(t.filter((function(e){return e.id!=a})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){X(a,r,i,o,c,"next",e)}function c(e){X(a,r,i,o,c,"throw",e)}o(void 0)}))})}];return(0,o.useEffect)((function(){t=t.map((function(e){return e.delete="delete",e.id=e.id,e}))}),[]),(0,a.jsx)(E.Z,{children:(0,a.jsxs)(s.ZP,{container:!0,spacing:7,children:[(0,a.jsxs)(s.ZP,{item:!0,xs:6,sm:6,children:[(0,a.jsx)(I.Z,{multiple:!0,disablePortal:!0,id:"autocomplete-pilots",options:c.filter((function(e){return 0==t.filter((function(n){return n.id==e.id})).length})),getOptionLabel:function(e){return"".concat(e.name," (").concat(e.id,")")},value:l,renderInput:function(e){return(0,a.jsx)(f.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){H(e,n,t[n])}))}return e}({},e,{name:"pilots",label:"Pilots",onKeyPress:function(e){"Enter"===e.key&&r(l.concat(t))}}))},onChange:function(e,n){d(n)}}),(0,a.jsx)(W.Z,{variant:"contained",startIcon:(0,a.jsx)(A.Z,{}),onClick:function(){r(l.concat(t))},children:"Add pilot(s)"})]}),(0,a.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,a.jsx)(P.Z,{rows:t,headCells:h,orderById:"rank"})})]})})};function q(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function F(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=function(e){var n,t=e.judges,r=e.update,c=Q((0,k.Vf)(),1)[0],u=(0,o.useState)([]),l=u[0],d=u[1],h=[{id:"id"},{id:"name"},{id:"country"},{id:"civlid"},{id:"delete",type:"ACTION",func:(n=i().mark((function e(n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.dataset.id,o=c.filter((function(e){return e.id==a}))[0].name,confirm("Are you sure you want to remove judge ".concat(o," (").concat(a,") ?"))){e.next=4;break}return e.abrupt("return");case 4:r(t.filter((function(e){return e.id!=a})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){q(a,r,i,o,c,"next",e)}function c(e){q(a,r,i,o,c,"throw",e)}o(void 0)}))})}];return(0,o.useEffect)((function(){t=t.map((function(e){return e.delete="delete",e.id=e._id,e}))}),[]),(0,a.jsx)(E.Z,{children:(0,a.jsxs)(s.ZP,{container:!0,spacing:7,children:[(0,a.jsxs)(s.ZP,{item:!0,xs:6,sm:6,children:[(0,a.jsx)(I.Z,{multiple:!0,disablePortal:!0,id:"autocomplete-judges",options:c.filter((function(e){return 0==t.filter((function(n){return n.name==e.name})).length})),getOptionLabel:function(e){return"".concat(e.name)},value:l,renderInput:function(e){return(0,a.jsx)(f.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){F(e,n,t[n])}))}return e}({},e,{name:"judges",label:"Judges",onKeyPress:function(e){"Enter"===e.key&&r(l.concat(t))}}))},onChange:function(e,n){d(n)}}),(0,a.jsx)(W.Z,{variant:"contained",startIcon:(0,a.jsx)(A.Z,{}),onClick:function(){r(l.concat(t))},children:"Add judge(s)"})]}),(0,a.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,a.jsx)(P.Z,{rows:t,headCells:h,orderById:"name"})})]})})},Y=function(e){var n=e.config,t=e.update,r=e.type,i=(0,o.useState)(n),c=i[0],u=i[1],d=(0,o.useRef)(),h=(0,o.useRef)(),p=(0,o.useRef)(),x=(0,o.useRef)(),g=(0,o.useRef)(),m=(0,o.useRef)(),j=(0,o.useRef)(),y=(0,o.useRef)(),v=(0,o.useRef)(),b=(0,o.useRef)(),Z=(0,o.useRef)(),w=(0,o.useRef)(),_=(0,o.useRef)();return(0,a.jsx)(E.Z,{children:(0,a.jsxs)(s.ZP,{container:!0,spacing:7,children:[(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.warning,title:"Warning",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:d,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"warning",label:"Warning",placeholder:"Warning",defaultValue:n.warning,inputProps:{ref:d},onChange:function(e){c.warning=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.malus_repetition,title:"Malus Repetition",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:h,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"malus_repetition",label:"Malus Repetition",placeholder:"Malus Repetition",defaultValue:n.malus_repetition,inputProps:{ref:h},onChange:function(e){c.malus_repetition=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.warnings_to_dsq,title:"Warnings to DSQ",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:p,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"warnings_to_dsq",label:"Warnings to DSQ",placeholder:"Warnings to DSQ",defaultValue:n.warnings_to_dsq,inputProps:{ref:p},onChange:function(e){c.warnings_to_dsq=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.judge_weights.senior,title:"Senior Judge Weight",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:x,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"judge_weight_senior",label:"Senior Judge Weight",placeholder:"Senior Judge Weight",defaultValue:n.judge_weights.senior,inputProps:{ref:x},onChange:function(e){c.judge_weights.senior=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.judge_weights.certified,title:"Certified Judge Weight",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:g,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"judge_weight_certified",label:"Certified Judge Weight",placeholder:"Certified Judge Weight",defaultValue:n.judge_weights.certified,inputProps:{ref:g},onChange:function(e){c.judge_weights.certified=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.judge_weights.trainee,title:"Trainee Judge Weight",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:m,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"judge_weight_trainee",label:"Trainee Judge Weight",placeholder:"Trainee Judge Weight",defaultValue:n.judge_weights.trainee,inputProps:{ref:m},onChange:function(e){c.judge_weights.trainee=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:3,sm:3,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.mark_percentages[r].technical,title:"Mark Percentage: Technical",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:j,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"mark_percentages_technical",label:"Mark Percentage: Technical",placeholder:"Technical",defaultValue:n.mark_percentages[r].technical,inputProps:{ref:j},onChange:function(e){c.mark_percentages[r].technical=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:3,sm:3,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.mark_percentages[r].choreography,title:"Mark Percentage: Choreography",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:y,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"mark_percentages_choreography",label:"Mark Percentage: Choreography",placeholder:"Choreography",defaultValue:n.mark_percentages[r].choreography,inputProps:{ref:y},onChange:function(e){c.mark_percentages[r].choreography=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:3,sm:3,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.mark_percentages[r].landing,title:"Mark Percentage: Landing",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:v,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"mark_percentages_landing",label:"Mark Percentage: Landing",placeholder:"Landing",defaultValue:n.mark_percentages[r].landing,inputProps:{ref:v},onChange:function(e){c.mark_percentages[r].landing=e.target.value,u(c)}})})})}),"synchro"==r&&(0,a.jsx)(s.ZP,{item:!0,xs:3,sm:3,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.mark_percentages[r].synchro,title:"Mark Percentage: Synchro",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:b,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"mark_percentages_synchro",label:"Mark Percentage: Synchro",placeholder:"Synchro",defaultValue:n.mark_percentages[r].synchro,inputProps:{ref:b},onChange:function(e){c.mark_percentages[r].synchro=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.max_bonus_per_run.twist,title:"Max Twists per run",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:Z,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"max_twist",label:"Max Twists per run",placeholder:"Max Twists per run",defaultValue:n.max_bonus_per_run.twist,inputProps:{ref:Z},onChange:function(e){c.max_bonus_per_run.twist=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.max_bonus_per_run.reverse,title:"Max Reverses per run",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:w,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"max_reverse",label:"Max Reverses per run",placeholder:"Max Reverses per run",defaultValue:n.max_bonus_per_run.reverse,inputProps:{ref:w},onChange:function(e){c.max_bonus_per_run.reverse=e.target.value,u(c)}})})})}),(0,a.jsx)(s.ZP,{item:!0,xs:4,sm:4,container:!0,children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:n.max_bonus_per_run.flip,title:"Max Flips per run",onChange:function(e){return t(c)},onCancel:function(e){u(n)},childRef:_,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"max_flip",label:"Max Flips per run",placeholder:"Max Flips per run",defaultValue:n.max_bonus_per_run.flip,inputProps:{ref:_},onChange:function(e){c.max_bonus_per_run.flip=e.target.value,u(c)}})})})})]})})};function G(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ee,ne=function(e){var n,t=e.tricks,r=e.update,c=$((0,k.Rs)(),1)[0],u=(0,o.useState)([]),l=u[0],d=u[1],h=[{id:"id"},{id:"name"},{id:"acronym"},{id:"delete",type:"ACTION",func:(n=i().mark((function e(n){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.dataset.id,o=c.filter((function(e){return e.id==a}))[0].name,confirm("Are you sure you want to remove repeatable_trick ".concat(o," (").concat(a,") ?"))){e.next=4;break}return e.abrupt("return");case 4:r(t.filter((function(e){return e.id!=a})));case 5:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){G(a,r,i,o,c,"next",e)}function c(e){G(a,r,i,o,c,"throw",e)}o(void 0)}))})}];return(0,o.useEffect)((function(){t=t.map((function(e){return e.delete="delete",e.id=e._id,e}))}),[]),(0,a.jsx)(E.Z,{children:(0,a.jsxs)(s.ZP,{container:!0,spacing:7,children:[(0,a.jsxs)(s.ZP,{item:!0,xs:6,sm:6,children:[(0,a.jsx)(I.Z,{multiple:!0,disablePortal:!0,id:"autocomplete-tricks",options:c.filter((function(e){return 0==t.filter((function(n){return n.name==e.name})).length})),getOptionLabel:function(e){return"".concat(e.name)},value:l,renderInput:function(e){return(0,a.jsx)(f.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){U(e,n,t[n])}))}return e}({},e,{name:"tricks",label:"Tricks",onKeyPress:function(e){"Enter"===e.key&&r(l.concat(t))}}))},onChange:function(e,n){d(n)}}),(0,a.jsx)(W.Z,{variant:"contained",startIcon:(0,a.jsx)(A.Z,{}),onClick:function(){r(l.concat(t))},children:"Add repeatable_trick(s)"})]}),(0,a.jsx)(s.ZP,{item:!0,xs:12,sm:12,children:(0,a.jsx)(P.Z,{rows:t,headCells:h,orderById:"technical_coefficient"})})]})})};function te(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function re(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){te(a,r,i,o,c,"next",e)}function c(e){te(a,r,i,o,c,"throw",e)}o(void 0)}))}}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ae(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=(0,y.ZP)(v.Z)((function(e){var n=e.theme;return ie(ee={},n.breakpoints.down("md"),{minWidth:100}),ie(ee,n.breakpoints.down("sm"),{minWidth:67}),ee})),ce=(0,y.ZP)("span")((function(e){var n=e.theme;return ie({lineHeight:1.71,fontSize:"0.875rem",marginLeft:n.spacing(2.4)},n.breakpoints.down("md"),{display:"none"})})),ue=function(){var e=(0,c.useRouter)(),n=e.query.code,t=ae((0,C.z)(),4),r=(t[0],t[1],t[2],t[3]),y=(0,u.aF)(),v=(y.user,y.authError,y.authIisLoading,(0,o.useState)({})),P=v[0],O=v[1],S=(0,o.useState)({}),R=S[0],E=S[1],W=(0,o.useState)(!1),A=W[0],I=W[1],M=(0,o.useState)("runs"),N=M[0],V=M[1],J=(0,o.useRef)(),L=(0,o.useRef)(),X=(0,o.useRef)(),H=(0,o.useRef)(),B=(0,o.useRef)(),q=re(i().mark((function e(){var t,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.t0=ae,e.next=4,(0,k.Xv)("/competitions/".concat(n),{expect_json:!0});case 4:if(e.t1=e.sent,t=(0,e.t0)(e.t1,3),a=t[0],o=t[1],t[2],!a){e.next=14;break}return O(!1),E(!1),r("Error while retrieving competitions list: ".concat(a)),e.abrupt("return");case 14:o.delete="delete",o.update="update",o.id=o._id,O(o),E(Object.assign({},o)),I(!1);case 20:case"end":return e.stop()}}),e)}))),F=re(i().mark((function t(a){var o,c,u,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o="/competitions/".concat(n),"PATCH",204,c={name:R.name,code:R.code,start_date:R.start_date,end_date:R.end_date,location:R.location,published:R.published,type:R.type},t.t0=ae,t.next=8,(0,k.Xv)(o,{expected_status:204,method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 8:if(t.t1=t.sent,u=(0,t.t0)(t.t1,3),s=u[0],u[1],u[2],!s){t.next=16;break}return r("error while updating competition ".concat(n,": ").concat(s)),t.abrupt("return");case 16:if(R.code==P.code){t.next=18;break}return t.abrupt("return",e.replace("/competitions/".concat(R.code)));case 18:q();case 19:case"end":return t.stop()}}),t)}))),Q=re(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ae,e.next=3,(0,k.Xv)("/competitions/".concat(n,"/pilots"),{expected_status:204,method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.map((function(e){return e.civlid})))});case 3:if(e.t1=e.sent,a=(0,e.t0)(e.t1,3),o=a[0],a[1],a[2],!o){e.next=11;break}return r("error while updating pilots list ".concat(n,": ").concat(o)),e.abrupt("return");case 11:q();case 12:case"end":return e.stop()}}),e)}))),G=re(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ae,e.next=3,(0,k.Xv)("/competitions/".concat(n,"/teams"),{expected_status:204,method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.map((function(e){return e.id})))});case 3:if(e.t1=e.sent,a=(0,e.t0)(e.t1,3),o=a[0],a[1],a[2],!o){e.next=11;break}return r("error while updating teams list ".concat(n,": ").concat(o)),e.abrupt("return");case 11:q();case 12:case"end":return e.stop()}}),e)}))),U=re(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ae,e.next=3,(0,k.Xv)("/competitions/".concat(n,"/judges"),{expected_status:204,method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.map((function(e){return e.id})))});case 3:if(e.t1=e.sent,a=(0,e.t0)(e.t1,3),o=a[0],a[1],a[2],!o){e.next=11;break}return r("error while updating judges list ".concat(n,": ").concat(o)),e.abrupt("return");case 11:q();case 12:case"end":return e.stop()}}),e)}))),$=re(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ae,e.next=3,(0,k.Xv)("/competitions/".concat(n,"/repeatable_tricks"),{expected_status:204,method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.map((function(e){return e.id})))});case 3:if(e.t1=e.sent,a=(0,e.t0)(e.t1,3),o=a[0],a[1],a[2],!o){e.next=11;break}return r("error while updating repeatable tricks list ".concat(n,": ").concat(o)),e.abrupt("return");case 11:q();case 12:case"end":return e.stop()}}),e)}))),ee=re(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ae,e.next=3,(0,k.Xv)("/competitions/".concat(n,"/config"),{expected_status:204,method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if(e.t1=e.sent,a=(0,e.t0)(e.t1,3),o=a[0],a[1],a[2],!o){e.next=11;break}return r("error while updating config ".concat(n,": ").concat(o)),e.abrupt("return");case 11:q();case 12:case"end":return e.stop()}}),e)})));return(0,o.useEffect)((function(){e.isReady&&q()}),[e.isReady]),A||!e.isReady?(0,a.jsxs)(p.Z,{sx:{width:"100%",textAlign:"center"},children:[(0,a.jsx)(h.Z,{}),"Loading"]}):P?(console.log(P),(0,a.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,a.jsx)(s.ZP,{item:!0,xs:12,children:(0,a.jsxs)(l.Z,{variant:"h5",children:[P.name,(0,a.jsx)(d.Z,{onClick:q})]})}),(0,a.jsxs)(s.ZP,{item:!0,xs:12,md:6,sx:{paddingBottom:4},children:[(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:R.name,title:"Name",onChange:F,onCancel:function(e){E(P)},childRef:J,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"name",label:"Name",placeholder:"Name",defaultValue:R.name,inputProps:{ref:J},onChange:function(e){R.name=e.target.value,E(R)}})})}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:R.code,title:"Code",onChange:F,onCancel:function(e){E(P)},childRef:L,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"code",label:"Code",placeholder:"Code",defaultValue:R.code,inputProps:{ref:L},onChange:function(e){R.code=e.target.value,E(R)}})})}),(0,a.jsxs)(l.Z,{children:["Status: ",(0,a.jsx)("strong",{children:R.state})]}),(0,a.jsxs)(l.Z,{children:["Type: ",(0,a.jsx)("strong",{children:R.type})]})]}),(0,a.jsxs)(s.ZP,{item:!0,xs:12,md:6,sx:{paddingBottom:4},children:[(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:R.start_date,title:"Start date",onChange:F,onCancel:function(e){E(P)},childRef:X,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"start_date",label:"Start date",placeholder:"Start date",defaultValue:R.start_date,inputProps:{ref:X},onChange:function(e){R.start_date=e.target.value,E(R)}})})}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:R.end_date,title:"End date",onChange:F,onCancel:function(e){E(P)},childRef:H,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"end_date",label:"End date",placeholder:"End date",defaultValue:R.end_date,inputProps:{ref:H},onChange:function(e){R.end_date=e.target.value,E(R)}})})}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(T,{text:R.location,title:"Location",onChange:F,onCancel:function(e){E(P)},childRef:B,children:(0,a.jsx)(f.Z,{fullWidth:!0,name:"location",label:"Location",placeholder:"Location",defaultValue:R.location,inputProps:{ref:B},onChange:function(e){R.location=e.target.value,E(R)}})})}),(0,a.jsx)(l.Z,{children:(0,a.jsx)("section",{children:(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:["Published:",(0,a.jsx)(_.Z,{checked:R.published,onChange:function(e){confirm("Are you sure to ".concat(e.target.checked?"publish":"unpublish"," the competition ?"))?(R.published=e.target.checked,E(R),F(e)):e.target.checked=!e.target.checked}})]})})})})]}),(0,a.jsx)(s.ZP,{item:!0,xs:12,children:(0,a.jsx)(x.Z,{children:(0,a.jsxs)(j.ZP,{value:N,children:[(0,a.jsxs)(g.Z,{onChange:function(e,n){V(n)},"aria-label":"account-settings tabs",sx:{borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},children:["solo"==P.type&&(0,a.jsx)(oe,{value:"pilots",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)(ce,{children:"Pilots"})]})}),"synchro"==P.type&&(0,a.jsx)(oe,{value:"teams",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)(ce,{children:"Teams"})]})}),(0,a.jsx)(oe,{value:"judges",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)(ce,{children:"Judges"})]})}),(0,a.jsx)(oe,{value:"repeatable_tricks",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(w.Z,{}),(0,a.jsx)(ce,{children:"Repeatables tricks"})]})}),(0,a.jsx)(oe,{value:"settings",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(w.Z,{}),(0,a.jsx)(ce,{children:"Competition Settings"})]})}),(0,a.jsx)(oe,{value:"runs",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(b.Z,{}),(0,a.jsx)(ce,{children:"Runs"})]})}),(0,a.jsx)(oe,{value:"results",label:(0,a.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(w.Z,{}),(0,a.jsx)(ce,{children:"Results"})]})})]}),(0,a.jsx)(m.Z,{sx:{p:0},value:"pilots",children:(0,a.jsx)(K,{pilots:P.pilots,update:function(e){return Q(e)}})}),(0,a.jsx)(m.Z,{sx:{p:0},value:"teams",children:(0,a.jsx)(D,{teams:P.teams,update:function(e){return G(e)}})}),(0,a.jsx)(m.Z,{sx:{p:0},value:"judges",children:(0,a.jsx)(z,{judges:P.judges,update:function(e){return U(e)}})}),(0,a.jsx)(m.Z,{sx:{p:0},value:"repeatable_tricks",children:(0,a.jsx)(ne,{tricks:P.repeatable_tricks,update:function(e){return $(e)}})}),(0,a.jsx)(m.Z,{sx:{p:0},value:"settings",children:(0,a.jsx)(Y,{config:P.config,update:function(e){return ee(e)},type:P.type})}),(0,a.jsx)(m.Z,{sx:{p:0},value:"runs"}),(0,a.jsx)(m.Z,{sx:{p:0},value:"results"})]})})})]})):(r("Empty or invalid data"),"")}}},function(e){e.O(0,[885,824,698,109,725,595,273,335,774,888,179],(function(){return n=4136,e(e.s=n);var n}));var n=e.O();_N_E=n}]);